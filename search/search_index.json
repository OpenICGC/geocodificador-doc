{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Geocodificador ICGC","text":"<p>La geocodificaci\u00f3 \u00e9s el proc\u00e9s de convertir adreces postals, noms de lloc o punts d'inter\u00e8s a coordenades.</p> <p>El Geocodificador ICGC permet obtenir les coordenades d\u2019un lloc ubicat a Catalunya a partir de la seva adre\u00e7a postal o del seu nom (top\u00f2nim). Tamb\u00e9 permet l'operaci\u00f3 contr\u00e0ria, la geocodificaci\u00f3 inversa, que consisteix a obtenir l'adre\u00e7a postal o el nom del top\u00f2nim m\u00e9s proper a una posici\u00f3 expressada en coordenades.</p> <p>URL de connexi\u00f3: https://eines.icgc.cat/geocodificador</p> <p>El Geocodificador ICGC \u00e9s una interf\u00edcie de programaci\u00f3 d'aplicacions web API REST, integrable en altres aplicacions, de manera que \u00e9s senzill afegir un cercador d'adreces i/o top\u00f2nims a un visor de mapes.</p>"},{"location":"#funcionalitats","title":"Funcionalitats","text":"<ul> <li>Localitzaci\u00f3 d'adreces postals dels tipus seg\u00fcents:<ul> <li>portal (nom de carrer + portal + municipi o llogaret).</li> <li>edificacions a\u00efllades (nom de l'edificaci\u00f3 a\u00efllada + municipi o llogaret).</li> </ul> </li> <li>Localitzaci\u00f3 de carrers (nom de carrer + municipi o llogaret).</li> <li>Consulta del quadre envolvent de cada carrer obtingut.</li> <li>Localitzaci\u00f3 de top\u00f2nims (nom + municipi).</li> <li>Geocodificaci\u00f3 inversa per a trobar l'adre\u00e7a o top\u00f2nim m\u00e9s proper a un punt indicat per les seves coordenades.</li> <li>Restringir la cerca dins una \u00e0rea geogr\u00e0fica circular o rectangular.</li> <li>Restringir la cerca a una comarca o un municipi.</li> <li>Restringir la cerca a determinats tipus de top\u00f2nims.</li> <li>Prioritzaci\u00f3 de les solucions m\u00e9s properes geogr\u00e0ficament a un punt donat.</li> <li>Disponibilitat de dues operacions de geocodificaci\u00f3 directa, que \u00e9s aconsellable combinar en la integraci\u00f3 en altres aplicacions:<ul> <li>autocompletar: a mesura que l'usuari va teclejant el text a cercar, enviar peticions a autocompletar, amb la finalitat de trobar respostes de forma r\u00e0pida. </li> <li>cerca (cerca completa): retorna les dades i la ubicaci\u00f3 d\u2019una adre\u00e7a o top\u00f2nim indicats de forma completa. Un cop s'ha completat el text, si les respostes proporcionades per autocompletar no s\u00f3n suficients, es pot fer una petici\u00f3 a l'operaci\u00f3 cerca al pr\u00e8mer la tecla [Intro].</li> </ul> </li> </ul> <p>Es recomana utilitzar llibreries client que incorporin aquestes pautes d'\u00fas, com Leaflet i el plugin Nextzen (anteriorment Mapzen), com s'ha fet al Visor exemple, implementat amb Leaflet i explicat a  Visor de mapes amb consultes al servei Geocodificaci\u00f3 ICGC.</p>"},{"location":"#operacions","title":"Operacions","text":"<p>Disposa de les operacions seg\u00fcents:</p> <ul> <li> <p>cerca (geocodificaci\u00f3 directa indicant adre\u00e7a completa)</p> </li> <li> <p>autocompletar (geocodificaci\u00f3 directa sense necessitat de completar totes les dades d\u2019identificaci\u00f3)</p> </li> <li> <p>invers  (geocodificaci\u00f3 inversa)</p> </li> </ul>"},{"location":"#documentacio","title":"Documentaci\u00f3","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"#exemples","title":"Exemples","text":"<ul> <li>1.1 Cercar una adre\u00e7a postal</li> <li>1.2 Cercar un top\u00f2nim</li> <li>1.3 Geocodificaci\u00f3 inversa</li> <li>1.4 Obtenir el llogaret al que pertany una adre\u00e7a</li> <li>1.5 Cercar una adre\u00e7a postal segons el llogaret</li> <li>1.6 Integraci\u00f3 en un visor Leaflet</li> <li>1.7 Prioritzar els resultats m\u00e9s propers a un punt</li> <li>1.8 Restringir la cerca dins una \u00e0rea geogr\u00e0fica circular o rectangular</li> <li>1.9 Filtrar segons tipus de top\u00f2nim</li> <li>1.10 Filtrar per comarca o per municipi</li> </ul>"},{"location":"#visor","title":"Visor","text":"<p>Visor</p>"},{"location":"documentacio/","title":"Documentaci\u00f3","text":"<p>https://eines.icgc.cat/geocodificador/api-docs/</p>"},{"location":"ex_adreca/","title":"1.1 Cercar una adre\u00e7a postal","text":"<p>Cal indicar l'adre\u00e7a a cercar en el par\u00e0metre text.</p> <p>Per exemple, indicant nou 10,girona, obtenim les coordenades geogr\u00e0fiques de l'adre\u00e7a postal Carrer Nou 10, Girona: 2.82176174, 41.98273154:  https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona&amp;size=1&amp;layers=address</p> <p>El resultat \u00e9s:</p> <p></p>"},{"location":"ex_area/","title":"1.8 Restringir la cerca dins una \u00e0rea geogr\u00e0fica circular o rectangular","text":"<p>A la imatge es mostra l'aplicaci\u00f3 Vissir, on s'ha fet una petici\u00f3 al geocodificador per a obtenir el top\u00f2nims que contenen el text biblioteca amb coordenades dins el rectangle indicat.</p> <p>Una petici\u00f3 exemple \u00e9s la seg\u00fcent, on s'indiquen el text a cercar al par\u00e0metre text i les coordenades del rectangle als par\u00e0metres boundary.rect: </p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> <p></p>"},{"location":"ex_comarca_municipi/","title":"1.10 Filtrar per comarca o per municipi","text":"<p>Es possible restringir la cerca a una comarca o un municipi, indicant els par\u00e0metres com o mun.</p> <p>El par\u00e0metre com permet especificar el nom de la comarca o el seu identificador. Es pot consultar el llistat de comarques a Taula de comarques</p> <p>El par\u00e0metre mun permet especificar el nom del municipi o el seu identificador. Es pot consultar el llistat de municipis a Taula de municipis</p> <p>Per exemple, la petici\u00f3 https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona cerca biblioteques del municipi de Girona</p> <p>i la petici\u00f3 https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones cerca biblioteques de la comarca del Giron\u00e8s</p>"},{"location":"ex_invers/","title":"1.3 Geocodificaci\u00f3 inversa","text":"<p>Per a trobar les adreces i top\u00f2nims m\u00e9s propers a un punt, cal indicar les seves coordenades geogr\u00e0fiques en els par\u00e0metres lon i lat.</p> <p>Per exemple, indicant les coordenades 2.82176174, 41.98273154, obtenim l'adre\u00e7a postal Carrer Nou 10, Girona: https://eines.icgc.cat/geocodificador/invers?lon=2.82176174&amp;lat=41.98273154&amp;size=1&amp;layers=address</p> <p>El resultat \u00e9s:</p> <p></p>"},{"location":"ex_llogaret1/","title":"1.4 Obtenir el llogaret al que pertany una adre\u00e7a","text":"<p>Al cercar una adre\u00e7a postal, podem obtenir el llogaret o nucli de poblaci\u00f3 al que pertany. Aquesta informaci\u00f3 apareix al camp llogaret i al final del camp label, entre par\u00e8ntesi.</p> <p>Per exemple, al cercar l'adre\u00e7a carrer de l'esglesia 1,la vall de boi, obtenim els 3 portals que hi ha als nuclis de poblaci\u00f3 de Durro, Barruera i Ta\u00fcll, pertanyents al municipi la Vall de Bo\u00ed. https://eines.icgc.cat/geocodificador/autocompletar?text=carrer%20de%20l%27esglesia%201,la%20vall%20de%20boi&amp;layers=address&amp;size=6</p> <p></p> <p>La resposta \u00e9s:</p> <p></p>"},{"location":"ex_llogaret2/","title":"1.5 Cercar una adre\u00e7a postal segons el llogaret","text":"<p>\u00c9s possible indicar el nom del llogaret en la petici\u00f3, en lloc del nom de municipi. </p> <p>Per exemple, indicant carrer de l'esglesia 1,durro, restringim la cerca al portal 1 del carrer Esgl\u00e9sia de Durro, del municipi la Vall de Bo\u00ed:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=carrer%20de%20l%27esglesia%201,durro&amp;layers=address </p> <p>La resposta \u00e9s :</p> <p></p>"},{"location":"ex_prioritzar/","title":"1.7 Prioritzar els resultats m\u00e9s propers a un punt","text":"<p>Al visor anterior https://eines.icgc.cat/geocodificador_visor/  es pot activar la casella de prioritzaci\u00f3 dels resultats m\u00e9s propers al centre del mapa, de manera que, si el mapa est\u00e0 centrat al municipi de Girona, en teclejar Biblioteca ens apareixen biblioteques de Girona.</p> <p>Un exemple de petici\u00f3 \u00e9s el seg\u00fcent, on s'indiquen les coordenades del punt central del mapa als par\u00e0metres focus.point.lat i focus.point.lon: https://eines.icgc.cat/geocodificador/autocompletar?text=bibli&amp;focus.point.lat=41.430371882652814&amp;focus.point.lon=1.8539428710937502&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5, on s'indica el text a cercar i el punt pel que es volen prioritzar les respostes </p>"},{"location":"ex_tipus/","title":"1.9 Filtrar segons tipus de top\u00f2nim","text":"<p>\u00c9s possible indicar els tipus de top\u00f2nim a cercar.</p> <p>Per exemple, la petici\u00f3 seg\u00fcent cerca top\u00f2nims amb el text aliga i de tipus Cim: http://eines.icgc.cat/geocodificador/autocompletar?text=aliga&amp;layers=topo_tipus_08&amp;size=3 .</p> <p>Com es veu a l'exemple, el tipus de top\u00f2nim Cim t\u00e9 l'identificador topo_tipus_08.</p> <p>La taula amb els tipus de top\u00f2nim i els seus identificadors es pot consultar a Taula top\u00f2nims</p>"},{"location":"ex_toponim/","title":"1.2 Cercar un top\u00f2nim","text":"<p>Cal indicar el top\u00f2nim a cercar en el par\u00e0metre text.</p> <p>Per exemple, indicant can massot,fornells, obtenim les coordenades geogr\u00e0fiques del top\u00f2nim Can Massot, Fornells de la Selva: 2.79217122, 41.92888483: https://eines.icgc.cat/geocodificador/autocompletar?text=can%C2%A0massot,fornells&amp;layers=tops&amp;size=1</p> <p>El resultat \u00e9s:</p> <p></p>"},{"location":"ex_visor/","title":"1.6 Integraci\u00f3 en un visor Leaflet","text":"<p>A la imatge seg\u00fcent es mostra el visor https://eines.icgc.cat/geocodificador_visor/, implementat amb Leaflet, que cont\u00e9 un cercador de'adreces i top\u00f2nims i on a mesura que l'usuari va teclejant el text a cercar, s'envien peticions al servei de geocodificaci\u00f3, fins a trobar l'element desitjat i la seva ubicaci\u00f3 al mapa.</p> <p>Les peticions enviades utilitzen l'operaci\u00f3 autocompletar amb el par\u00e0metre text contenint el text introdu\u00eft per l'usuari. </p> <p>Un exemple d'aquestes peticions \u00e9s https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p> <p>A Visor amb consultes al servei Geocodificaci\u00f3 ICGC s'explica en detall com accedir al visor i com s'ha implementat.</p> <p>Es pot descarregar de:  https://github.com/OpenICGC/leaflet-geocodericgc-plugin </p>"},{"location":"parametres_autocompletar/","title":"Cerca autocompletar","text":"<p>URL de connexi\u00f3: https://eines.icgc.cat/geocodificador/autocompletar (GET)</p>"},{"location":"parametres_autocompletar/#descripcio","title":"Descripci\u00f3","text":"<p>L'operaci\u00f3 autocompletar obt\u00e9 les dades i la ubicaci\u00f3 d\u2019una adre\u00e7a o top\u00f2nim sense necessitat de completar totes les dades d\u2019identificaci\u00f3: a mesura que es va introduint el text a la caixa de cerca, s\u2019envien peticions a autocompletar, amb la finalitat de trobar respostes de forma r\u00e0pida.</p> <p>\u00c9s imprescindible indicar el text a cercar en el par\u00e0metre text.</p> <p>El resultat s'obt\u00e9 en format GeoJSON.</p> <p>En la integraci\u00f3 en altres aplicacions, es recomana combinar autocompletar i cerca:</p> <ul> <li>a mesura que l'usuari va teclejant el text a cercar, enviar peticions a autocompletar , amb la finalitat de trobar respostes de forma r\u00e0pida. </li> <li>un cop s'ha completat el text, si les respostes proporcionades per autocompletar no s\u00f3n suficients, es pot  pr\u00e8mer la tecla [Intro] i fer una petici\u00f3 a l'operaci\u00f3 de cerca completa.</li> </ul> <p>Donat que les peticions a autocompletar generalment responen directament a l'entrada de text per part de l'usuari, cal tenir en compte la velocitat d'escriptura amb l'objectiu de no colapsar les peticions. </p> <p>Tamb\u00e9 \u00e9s necessari tenir en compte que les respostes poden ser as\u00edncrones i no ser respostes en el mateix ordre en que es varen enviar.</p> <p>Per a cercar les coordenades corresponents al top\u00f2nim can masso,barcelona cal fer la petici\u00f3 https://eines.icgc.cat/geocodificador/autocompletar?text=can%20masso,barcelona&amp;layers=tops&amp;size=1, que t\u00e9 la resposta: </p>"},{"location":"parametres_autocompletar/#construccio-de-la-consulta","title":"Construcci\u00f3 de la consulta","text":"<p>La petici\u00f3 a l'API es construeix a partir de la URL https://eines.icgc.cat/geocodificador/autocompletar, seguida del signe\u00a0?\u00a0i\u00a0de la seq\u00fc\u00e8ncia de par\u00e0metres, separats pel signe\u00a0&amp;.</p> <p>Els par\u00e0metres s\u00f3n els seg\u00fcents:</p> <ul> <li> <p>text:\u00a0cont\u00e9 el text a cercar. \u00c9s un par\u00e0metre obligatori.</p> <p>\u00c9s important tenir en compte que cal separar el nom del municipi amb una coma, de la manera seg\u00fcent: <ul> <li> <p>nom_de_carrer portal, municipi <li> <p>nom_edificaci\u00f3_a\u00efllada, municipi <li> <p>nom_top\u00f2nim, municipi <p>Exemples:\u00a0</p> <ul> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=nou 10,girona</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=can riera,Vilademuls&amp;layers=address</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=montclar,riudecanyes</p> </li> </ul> <li> <p>layers: s'utilitza per filtrar els tipus d'element a cercar </p> <p>Es poden diferenciar els tipus de dades a cercar indicant el par\u00e0metre layers, amb els valors seg\u00fcents:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: adreces postals</p> <p>. tops: tots els top\u00f2nims</p> <p>.\u00a0topo_tipus_id: top\u00f2nims del tipus id, on id \u00e9s una cadena amb nombres entre 1 i 22, amb el 0 a l'esquerra pels menors de 10. Per exemple:\u00a0topo_tipus_01 per cercar\u00a0Caps de municipi. La taula amb els tipus de top\u00f2nim i els seus identificadors es pot consultar a\u00a0Taula top\u00f2nims</p> <p>Es poden indicar els valors seg\u00fcents per segregar els top\u00f2nims en dos grups:</p> <p>.\u00a0topo1: top\u00f2nims referents a agrupacions de poblaci\u00f3 (municipis, caps de municipi, entitats de poblaci\u00f3, disseminats i barris)</p> <p>.\u00a0topo2: resta de top\u00f2nims.</p> <p>Exemple, per trobar top\u00f2nims amb el nom Riera de Gai\u00e0:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> </li> <li> <p>size: s'utilitza per a definir el nombre m\u00e0xim de resultats</p> <p>Per defecte, es retornen fins a 10 resultats de cada un dels tipus indicats a layers. Es pot indicar un nombre diferent amb el par\u00e0metre\u00a0size. El valor m\u00e0xim \u00e9s 40.</p> <p>Per exemple, per a trobar\u00a0un \u00fanic top\u00f2nim:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> </li> <li> <p>boundary.rect.min_lon,\u00a0boundary.rect.min_lat,\u00a0boundary.rect.max_lon i\u00a0boundary.rect.max_lat: per cercar en una \u00e0rea rectangular</p> <p>Es pot limitar espaialment la cerca indicant les coordenades latitud i longitud d'un rectangle amb aquests par\u00e0metres.</p> <p>Exemple:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> </li> <li> <p>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius: per cercar en una \u00e0rea circular</p> <p>Es pot limitar espaialment la cerca indicant les coordenades d'un cercle amb els par\u00e0metres\u00a0boundary.circle.lon i\u00a0boundary.circle.lat\u00a0 (coordenada central de refer\u00e8ncia) i el par\u00e0metre\u00a0boundary.circle.radius\u00a0(radi en km).</p> <p>Exemple:\u00a0https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3</p> </li> <li> <p>focus.point.lat,\u00a0focus.point.lon: prioritzaci\u00f3 de resultats per proximitat</p> <p>Per prioritzar els resultats m\u00e9s propers a unes coordenades cal indicar-les amb aquests par\u00e0metres.</p> <p>Exemple:\u00a0http://localhost:3300/autocompletar?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5</p> </li> <li> <p>com: per filtrar per comarca</p> <p>El par\u00e0metre com\u00a0permet especificar el nom de la comarca o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de comarques a Taula de comarques</p> <p>Exemples:\u00a0</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=girones (indicant el nom de comarca)</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;com=20\u00a0\u00a0(indicant identificador de comarca)</p> </li> <li> <p>mun: per filtrar per municipi</p> <p>El par\u00e0metre mun\u00a0permet especificar el nom del municipi o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de municipis a\u00a0Taula de municipis</p> <p>Exemples:</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=girona\u00a0 (indicant el nom de municipi)</p> <p>https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;mun=170792 (indicant identificador de municipi)</p> </li>"},{"location":"parametres_autocompletar/#parametres-dentrada","title":"Par\u00e0metres d'entrada","text":"Par\u00e0metre Tipus Obligatori Descripci\u00f3 Valor per defecte Exemple text cadena de text Si Text a cercar Riera de Sallent focus.point.lat n\u00famero de punt flotant No Latitud del punt pel que es volen prioritzar els resultats 41.430371882652814 focus.point.lon n\u00famero de punt flotant No Longitud del punt pel que es volen prioritzar els resultats 1.8566894531250002 layers cadena de text No Tipus d\u2019elements a cercar: [address, tops, topo_tipus_id, topo1, topo2] topo1,topo2,address address,topo1 size enter No Nombre de resultats. El m\u00e0xim \u00e9s 40 10 5 com cadena de text No Identificador d'una comarca, dins la que es vol restringir la cerca 01 mun cadena de text No Identificador d'un municipi, dins la que es vol restringir la cerca 080018 boundary.circle.lat n\u00famero de punt flotant No Latitud del punt del cercle de cerca 41.430371882652814 boundary.circle.lon n\u00famero de punt flotant No Longitud  del punt del cercle de cerca 2.81233 boundary.circle.radius n\u00famero de punt flotant No radi del cercle de cerca (km) 10 boundary.rect.min_lat n\u00famero de punt flotant No Latitud de l'extrem inferior del rectangle de cerca 41.909303728668824 boundary.rect.min_lon n\u00famero de punt flotant No Longitud de l'extrem inferior del rectangle de cerca 2.694053649902344 boundary.rect.max_lat n\u00famero de punt flotant No Latitud de l'extrem superior del rectangle de cerca 42.01142264969458 boundary.rect.max_lon n\u00famero de punt flotant No Longitud de l'extrem superior del rectangle de cerca 2.911033630371094"},{"location":"parametres_autocompletar/#parametres-de-sortida","title":"Par\u00e0metres de sortida","text":"<p>Es retornen els resultats en format GeoJSON.</p> <p>L'element features.properties t\u00e9 els camps descrits a la taula seg\u00fcent:</p> Camp Descripci\u00f3 Aplicacble als elements layer Tipus d'element trobat.Els valors possibles s\u00f3n els indicats al par\u00e0metre layers d'entrada Tots etiqueta Agregaci\u00f3 de camps. Per adreces: carrer portal, municipi (llogaret). Nota: Si el llogaret coincideix amb el municipi, no s'indica. Per top\u00f2nims: top\u00f2nim, municipi Tots municipi Municipi. En alguns top\u00f2nims , no hi ha un municipi assignat i pren el valor \"-\" Tots comarca Comarca. En alguns top\u00f2nims , no hi ha una comarca assignada i pren el valor \"-\" Adreces llogaret Llogaret Adreces portal Portal de l'adre\u00e7a Adreces nom Nom del carrer, de l'edificaci\u00f3 a\u00efllada o de top\u00f2nim Tots codi_postal Codi postal Adreces distancia Dist\u00e0ncia en quil\u00f2metres al punt indicat amb els camps focus.point.lat, focus.point.lon Tots addendum.origen Escala origen Top\u00f2nims addendum.zoom Nivell de zoom \u00f2ptim Top\u00f2nims addendum.tipus Tipus de top\u00f2nim Top\u00f2nims addendum.id_tipus Identificador tipus de  top\u00f2nim Top\u00f2nims addendum.municipis_extra Resta de municipis assignats Top\u00f2nims addendum.bbox Coordenades geogr\u00e0fiques del rectangle contenidor del carrer Adreces addendum.bbox_utm Coordenades UTM del rectangle contenidor del carrer Adreces"},{"location":"parametres_autocompletar/#exemples-de-sortida-segons-tipus-de-layer","title":"Exemples de sortida segons tipus de layer","text":"Adre\u00e7a postal https://eines.icgc.cat/geocodificador/autocompletar?text=nou%2010%20girona&amp;layers=address&amp;size=1 Top\u00f2nim https://eines.icgc.cat/geocodificador/autocompletar?text=Barranc%20de%20Barball&amp;layers=tops&amp;size=1"},{"location":"parametres_cerca/","title":"Cerca indicant l'adre\u00e7a completa","text":"<p>URL de connexi\u00f3: https://eines.icgc.cat/geocodificador/cerca (GET)</p>"},{"location":"parametres_cerca/#descripcio","title":"Descripci\u00f3","text":"<p>L'operaci\u00f3 cerca (Geocodificaci\u00f3 directa o cerca completa) retorna les dades i la ubicaci\u00f3 d\u2019una adre\u00e7a o top\u00f2nim, indicats de forma completa.</p> <p>\u00c9s imprescindible indicar el text a cercar en el par\u00e0metre text.</p> <p>El resultat s'obt\u00e9 en format GeoJSON.</p> <p>Per exemple, per a cercar les coordenades corresponents a l'adre\u00e7a carrer nou 10,girona, cal fer la petici\u00f3 https://eines.icgc.cat/geocodificador/cerca?text=carrer nou 10,girona&amp;layers=address&amp;size=1, que t\u00e9 la resposta: </p>"},{"location":"parametres_cerca/#construccio-de-la-consulta","title":"Construcci\u00f3 de la consulta","text":"<p>La petici\u00f3 a l'API es construeix a partir de la URL https://eines.icgc.cat/geocodificador/cerca, seguida del signe\u00a0?\u00a0i\u00a0de la seq\u00fc\u00e8ncia de par\u00e0metres, separats pel signe\u00a0&amp;.</p> <p>Els par\u00e0metres s\u00f3n els seg\u00fcents:</p> <ul> <li> <p>text:\u00a0cont\u00e9 el text a cercar. \u00c9s un par\u00e0metre obligatori.</p> <p>\u00c9s important tenir en compte que, en el cas de cerca d'adreces postals, cal separar el nom del municipi o del llogaret amb una coma, de la manera seg\u00fcent: <ul> <li> <p>nom_de_carrer portal, municipi/llogaret <li> <p>nom_edificaci\u00f3_a\u00efllada, municipi/llogaret <li> <p>nom_top\u00f2nim, municipi <p>Exemples:\u00a0</p> <ul> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=nou 10,girona&amp;layers=address</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=can riera,Vilademuls&amp;layers=topo2</p> </li> <li> <p>https://eines.icgc.cat/geocodificador/cerca?text=montclar,riudecanyes&amp;layers=topo1</p> </li> </ul> <li> <p>layers: s'utilitza per filtrar els tipus d'element a cercar </p> <p>Es poden diferenciar els tipus de dades a cercar indicant el par\u00e0metre layers, amb els valors seg\u00fcents:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: adreces postals</p> <p>. tops: tots els top\u00f2nims</p> <p>.\u00a0topo_tipus_id: top\u00f2nims del tipus id, on id \u00e9s una cadena amb nombres entre 1 i 22, amb el 0 a l'esquerra pels menors de 10. Per exemple:\u00a0topo_tipus_01 per cercar\u00a0Caps de municipi. La taula amb els tipus de top\u00f2nim i els seus identificadors es pot consultar a\u00a0Taula top\u00f2nims</p> <p>Es poden indicar els valors seg\u00fcents per segregar els top\u00f2nims en dos grups:</p> <p>.\u00a0topo1: top\u00f2nims referents a agrupacions de poblaci\u00f3 (municipis, caps de municipi, entitats de poblaci\u00f3, disseminats i barris)</p> <p>.\u00a0topo2: resta de top\u00f2nims.</p> <p>Exemple, per trobar top\u00f2nims amb el nom Riera de Gai\u00e0:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1,topo2</p> </li> <li> <p>size: s'utilitza per a definir el nombre m\u00e0xim de resultats</p> <p>Per defecte, es retornen fins a 10 resultats de cada un dels tipus indicats a layers. Es pot indicar un nombre diferent amb el par\u00e0metre\u00a0size. El valor m\u00e0xim \u00e9s 40.</p> <p>Per exemple, per a trobar\u00a0un \u00fanic top\u00f2nim:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=riera%20de%20gaia&amp;layers=topo1&amp;size=1</p> </li> <li> <p>boundary.rect.min_lon,\u00a0boundary.rect.min_lat,\u00a0boundary.rect.max_lon i\u00a0boundary.rect.max_lat: per cercar en una \u00e0rea rectangular</p> <p>Es pot limitar espaialment la cerca indicant les coordenades latitud i longitud d'un rectangle amb aquests par\u00e0metres.</p> <p>Exemple:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=300&amp;boundary.rect.min_lon=2.790885602127&amp;boundary.rect.min_lat=41.951744582496&amp;boundary.rect.max_lon=2.847448636407&amp;boundary.rect.max_lat=42.012358869945</p> </li> <li> <p>boundary.circle.lon,\u00a0boundary.circle.lat,\u00a0boundary.circle.radius: per cercar en una \u00e0rea circular</p> <p>Es pot limitar espaialment la cerca indicant les coordenades d'un cercle amb els par\u00e0metres\u00a0boundary.circle.lon i\u00a0boundary.circle.lat\u00a0 (coordenada central de refer\u00e8ncia) i el par\u00e0metre\u00a0boundary.circle.radius\u00a0(radi en km).</p> <p>Exemple:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;layers=topo1,topo2&amp;size=5&amp;boundary.circle.lon=2.815683&amp;boundary.circle.lat=41.976216&amp;boundary.circle.radius=3</p> </li> <li> <p>focus.point.lat,\u00a0focus.point.lon: prioritzaci\u00f3 de resultats per proximitat</p> <p>Per prioritzar els resultats m\u00e9s propers a unes coordenades cal indicar-les amb aquests par\u00e0metres.</p> <p>Exemple:\u00a0https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;focus.point.lat=41.972509114053196&amp;focus.point.lon=2.828636169433594&amp;layers=topo1%2Ctopo2&amp;size=5</p> </li> <li> <p>com: per filtrar per comarca</p> <p>El par\u00e0metre com\u00a0permet especificar el nom de la comarca o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de comarques a Taula de comarques</p> <p>Exemples:\u00a0</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=girones (indicant el nom de comarca)</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;com=20\u00a0\u00a0(indicant identificador de comarca)</p> </li> <li> <p>mun: per filtrar per municipi</p> <p>El par\u00e0metre mun\u00a0permet especificar el nom del municipi o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de municipis a\u00a0Taula de municipis</p> <p>Exemples:</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=girona\u00a0 (indicant el nom de municipi)</p> <p>https://eines.icgc.cat/geocodificador/cerca?text=biblioteca&amp;mun=170792 (indicant identificador de municipi)</p> </li>"},{"location":"parametres_cerca/#parametres-dentrada","title":"Par\u00e0metres d'entrada","text":"Par\u00e0metre Tipus Obligatori Descripci\u00f3 Valor per defecte Exemple text cadena de text Si Text a cercar Riera de Sallent focus.point.lat n\u00famero de punt flotant No Latitud del punt pel que es volen prioritzar els resultats 41.430371882652814 focus.point.lon n\u00famero de punt flotant No Longitud del punt pel que es volen prioritzar els resultats 1.8566894531250002 layers cadena de text No Tipus d\u2019elements a cercar: [address, tops, topo_tipus_id, topo1, topo2] topo1,topo2,address address,topo1 size enter No Nombre de resultats. El m\u00e0xim \u00e9s 40 10 5 com cadena de text No Identificador d'una comarca, dins la que es vol restringir la cerca 01 mun cadena de text No Identificador d'un municipi, dins la que es vol restringir la cerca 080018 boundary.circle.lat n\u00famero de punt flotant No Latitud del punt del cercle de cerca 41.430371882652814 boundary.circle.lon n\u00famero de punt flotant No Longitud  del punt del cercle de cerca 2.81233 boundary.circle.radius n\u00famero de punt flotant No radi del cercle de cerca (km) 10 boundary.rect.min_lat n\u00famero de punt flotant No Latitud de l'extrem inferior del rectangle de cerca 41.909303728668824 boundary.rect.min_lon n\u00famero de punt flotant No Longitud de l'extrem inferior del rectangle de cerca 2.694053649902344 boundary.rect.max_lat n\u00famero de punt flotant No Latitud de l'extrem superior del rectangle de cerca 42.01142264969458 boundary.rect.max_lon n\u00famero de punt flotant No Longitud de l'extrem superior del rectangle de cerca 2.911033630371094"},{"location":"parametres_cerca/#parametres-de-sortida","title":"Par\u00e0metres de sortida","text":"<p>Es retornen els resultats en format GeoJSON.</p> <p>L'element features.properties t\u00e9 els camps descrits a la taula seg\u00fcent:</p> Camp Descripci\u00f3 Aplicacble als elements layer Tipus d'element trobat.Els valors possibles s\u00f3n els indicats al par\u00e0metre layers d'entrada Tots etiqueta Agregaci\u00f3 de camps. Per adreces: carrer portal, municipi (llogaret). Nota: Si el llogaret coincideix amb el municipi, no s'indica. Per top\u00f2nims: top\u00f2nim, municipi Tots municipi Municipi. En alguns top\u00f2nims , no hi ha un municipi assignat i pren el valor \"-\" Tots comarca Comarca. En alguns top\u00f2nims , no hi ha una comarca assignada i pren el valor \"-\" Adreces llogaret Llogaret Adreces portal Portal de l'adre\u00e7a Adreces nom Nom del carrer, de l'edificaci\u00f3 a\u00efllada o de top\u00f2nim Tots codi_postal Codi postal Adreces distancia Dist\u00e0ncia en quil\u00f2metres al punt indicat amb els camps focus.point.lat, focus.point.lon Tots addendum.origen Escala origen Top\u00f2nims addendum.zoom Nivell de zoom \u00f2ptim Top\u00f2nims addendum.tipus Tipus de top\u00f2nim Top\u00f2nims addendum.id_tipus Identificador tipus de  top\u00f2nim Top\u00f2nims addendum.municipis_extra Resta de municipis assignats Top\u00f2nims addendum.bbox Coordenades geogr\u00e0fiques del rectangle contenidor del carrer Adreces addendum.bbox_utm Coordenades UTM del rectangle contenidor del carrer Adreces"},{"location":"parametres_cerca/#exemples-de-sortida-segons-tipus-de-layer","title":"Exemples de sortida segons tipus de layer","text":"Adre\u00e7a postal https://eines.icgc.cat/geocodificador/cerca?text=nou%2010%20girona&amp;layers=address&amp;size=1 Top\u00f2nim https://eines.icgc.cat/geocodificador/cerca?text=Barranc%20de%20Barball&amp;layers=tops&amp;size=1"},{"location":"parametres_invers/","title":"Cerca inversa","text":"<p>URL de connexi\u00f3: https://eines.icgc.cat/geocodificador/invers (GET)</p>"},{"location":"parametres_invers/#descripcio","title":"Descripci\u00f3","text":"<p>L'operaci\u00f3 invers (geocodificaci\u00f3 inversa) cerca les adreces i top\u00f2nims m\u00e9s propers a un punt geogr\u00e0fic determinat, especificat per la seva latitud i longitud.</p> <p>El resultat s'obt\u00e9 en format GeoJSON.</p> <p>Per exemple, per a cercar l'adre\u00e7a m\u00e9s propera a les coordenades 41.385965, 2.16687, cal fer la petici\u00f3 https://eines.icgc.cat/geocodificador/invers?lat=41.385965&amp;lon=2.16687&amp;size=1&amp;layers=address, que t\u00e9 la resposta: </p>"},{"location":"parametres_invers/#construccio-de-la-consulta","title":"Construcci\u00f3 de la consulta","text":"<p>La petici\u00f3 a l'API es construeix a partir de la URL https://eines.icgc.cat/geocodificador/invers, seguida del signe\u00a0?\u00a0i\u00a0de la seq\u00fc\u00e8ncia de par\u00e0metres, separats pel signe\u00a0&amp;.</p> <p>Els par\u00e0metres s\u00f3n els seg\u00fcents:</p> <ul> <li> <p>lon, lat: s\u00f3n obligatoris i contenen les coordenades del punt geogr\u00e0fic al voltant del qual es vol fer la cerca.</p> <p>Exemple:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206 </p> </li> <li> <p>boundary.circle.radius: indica el radi del cercle de cerca (en km).</p> <p>Exemple: http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=10&amp;boundary.circle.radius=0.4</p> </li> <li> <p>layers: s'utilitza per filtrar els tipus d'element a cercar </p> <p>Es poden diferenciar els tipus de dades a cercar indicant el par\u00e0metre layers, amb els valors seg\u00fcents:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p> <p>.\u00a0address: adreces postals</p> <p>. tops: tots els top\u00f2nims</p> <p>.\u00a0topo_tipus_id: top\u00f2nims del tipus id, on id \u00e9s una cadena amb nombres entre 1 i 22, amb el 0 a l'esquerra pels menors de 10. Per exemple:\u00a0topo_tipus_01 per cercar\u00a0Caps de municipi. La taula amb els tipus de top\u00f2nim i els seus identificadors es pot consultar a\u00a0Taula top\u00f2nims</p> <p>Es poden indicar els valors seg\u00fcents per segregar els top\u00f2nims en dos grups:</p> <p>.\u00a0topo1: top\u00f2nims referents a agrupacions de poblaci\u00f3 (municipis, caps de municipi, entitats de poblaci\u00f3, disseminats i barris)</p> <p>.\u00a0topo2: resta de top\u00f2nims.</p> <p>Exemple, per trobar top\u00f2nims: http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops</p> </li> <li> <p>size: s'utilitza per a definir el nombre m\u00e0xim de resultats</p> <p>Per defecte, es retornen fins a 10 resultats de cada un dels tipus indicats a layers. Es pot indicar un nombre diferent amb el par\u00e0metre\u00a0size. El valor m\u00e0xim \u00e9s 40.</p> <p>Per exemple, per a trobar\u00a0un \u00fanic top\u00f2nim:\u00a0http://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1</p> </li> <li> <p>com: per filtrar per comarca</p> <p>Permet especificar el nom de la comarca o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de comarques a Taula de comarques</p> <p>Exemples:\u00a0  https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=barcelones    (indicant el nom de comarca)</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;com=13   (indicant identificador de comarca)</p> </li> <li> <p>mun: per filtrar per municipi</p> <p>Permet especificar el nom del municipi o el seu identificador.\u00a0</p> <p>Es pot consultar el llistat de municipis a\u00a0Taula de municipis</p> <p>Exemples:</p> <p>https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=barcelona\u00a0 (indicant el nom de municipi)</p> <p> https://eines.icgc.cat/geocodificador/invers?lon=2.094256&amp;lat=41.432308&amp;layers=tops&amp;size=10&amp;mun=080193 (indicant identificador de municipi)</p> </li> </ul>"},{"location":"parametres_invers/#parametres-dentrada","title":"Par\u00e0metres d'entrada","text":"Par\u00e0metre Tipus Obligatori Descripci\u00f3 Valor per defecte Exemple lat n\u00famero de punt flotant Si latitud 41.385965 lon n\u00famero de punt flotant Si longitud boundary.circle.radius n\u00famero de punt flotant No radi del cercle de cerca (km) 1 0.5 layers cadena de text No Tipus d\u2019elements a cercar: [address, tops, topo_tipus_id, topo1, topo2] topo1,topo2,address address,topo1 size enter No Nombre de resultats. El m\u00e0xim \u00e9s 40 10 5 com cadena de text No Identificador d'una comarca, dins la que vol restringir la cerca cap 01 mun cadena de text No Identificador d'un municipi, dins la que vol restringir la cerca cap 080018"},{"location":"parametres_invers/#parametres-de-sortida","title":"Par\u00e0metres de sortida","text":"<p>Es retornen els resultats en format GeoJSON.</p> <p>L'element features.properties t\u00e9 els camps descrits a la taula seg\u00fcent:</p> Camp Descripci\u00f3 Aplicacble als elements layer Tipus d'element trobat.Els valors possibles s\u00f3n els indicats al par\u00e0metre layers d'entrada Tots distancia Dist\u00e0ncia en quil\u00f2metres de l'element trobat al punt indicat Tots etiqueta Agregaci\u00f3 de camps. Per adreces: carrer portal, municipi (llogaret). Nota: Si el llogaret coincideix amb el municipi, no s'indica. Per top\u00f2nims: top\u00f2nim, municipi Tots municipi Municipi. En alguns top\u00f2nims , no hi ha un municipi assignat i pren el valor \"-\" Tots comarca Comarca. En alguns top\u00f2nims , no hi ha una comarca assignada i pren el valor \"-\" Adreces llogaret Llogaret Adreces portal Portal de l'adre\u00e7a Adreces nom Nom del carrer, de l'edificaci\u00f3 a\u00efllada o de top\u00f2nim Tots codi_postal Codi postal Adreces addendum.origen Escala origen Top\u00f2nims addendum.zoom Nivell de zoom \u00f2ptim Top\u00f2nims addendum.tipus Tipus de top\u00f2nim Top\u00f2nims addendum.id_tipus Identificador tipus de  top\u00f2nim Top\u00f2nims addendum.municipis_extra Resta de municipis assignats Top\u00f2nims addendum.bbox Coordenades geogr\u00e0fiques del rectangle contenidor del carrer Adreces addendum.bbox_utm Coordenades UTM del rectangle contenidor del carrer Adreces"},{"location":"parametres_invers/#exemples-de-sortida-segons-tipus-de-layer","title":"Exemples de sortida segons tipus de layer","text":"Adre\u00e7a postal https://eines.icgc.cat/geocodificador/invers?lon=2.13798&amp;lat=41.4271&amp;layers=address&amp;size=1 Top\u00f2nim https://eines.icgc.cat/geocodificador/invers?lon=0.20949814&amp;lat=41.12599206&amp;layers=tops&amp;size=1"},{"location":"tipusToponims/","title":"Tipus de top\u00f2nims","text":"<p>La taula mostra els diferents tipus de top\u00f2nims, que es poden indicar per a filtrar els resultats. </p> <p>M\u00e9s informaci\u00f3 a Filtrar segons tipus de top\u00f2nim</p> ID Tipus Concepte 01 Cap de municipi Cap de municipi 02 Municipi Municipi (nom\u00e9s quan el nom no \u00e9s coincident amb el del seu cap) 03 Entitat de poblaci\u00f3 Entitat de poblaci\u00f3 04 Edificaci\u00f3 Edificaci\u00f3 a\u00efllada 06 Mass\u00eds, Serra Mass\u00eds, Serra 07 Orografia Relleu i orografia (plana, vall...) 08 Cim Cim, pic, puig 10 Relleu del Litoral Relleu litoral (cap, punta...) 11 Indret Indret, paratge 12 Equipament Equipament, instal\u00b7laci\u00f3, servei 13 Comunicacions Comunicacions (aeroport, t\u00fanel...) 14 Xarxa Hidrogr\u00e0fica Xarxa hidrogr\u00e0fica (riu, riera, torrent...) 15 Element Hidrogr\u00e0fic Elements hidrogr\u00e0fics (pant\u00e0, cala...) 16 Barri Barri urb\u00e0 (nom\u00e9s en nuclis de m\u00e9s de 50 000 habitants) 17 Comarca Comarca 20 Edificaci\u00f3 Hist\u00f2rica Edifici de valor hist\u00f2ric o arquitect\u00f2nic (ermita, castell...) 22 Disseminat Entitat de poblaci\u00f3 disseminada"},{"location":"versions/","title":"Hist\u00f2ric de versions","text":"Versi\u00f3 Descripci\u00f3 Data 2.0 Incorporaci\u00f3 de dades de portals (adreces associades a carrers amb n\u00famero) 01/2023 2.1 Incorporaci\u00f3 de dades de top\u00f2nims 02/2023 2.2 Pujades a producci\u00f3 autom\u00e0tiques 06/2023 2.3 Estandaritzaci\u00f3 a API OAS3 (swagger i documentaci\u00f3) 07/2023 2.4 Afegir filtre per tipus de top\u00f2nim 11/2023 2.5 Afegir filtre per comarca i municipi 12/2023 2.6 Millora en filtre del municipi seleccionat 12/2023 2.7 Ordenaci\u00f3 de resultats segons capa layer 12/2023 2.8 Millorar autocompletar adreces 01/2024 2.9 Millorar cerca directa adreces (m\u00faltiples peticions) 01/2024 2.10 Millorar ordenaci\u00f3 de resultats 02/2024 2.11 Incorporaci\u00f3 de dades de llogarets i BBOX de cada carrer 03/2024 2.12 Incorporaci\u00f3 de dades d'edificacions a\u00efllades 04/2024 2.13 Canvis en la prioritzaci\u00f3 de resultats 06/2024"},{"location":"visor/","title":"1.6 Visor de mapes amb consultes al Geocodificador ICGC","text":"<p>El visor https://eines.icgc.cat/geocodificador_visor/ \u00e9s un exemple d'\u00fas del geocodificador ICGC, amb peticions de geocodificaci\u00f3 directa i inversa.</p> <p></p>"},{"location":"visor/#geocodificacio-directa","title":"Geocodificaci\u00f3 directa","text":"<p>Cont\u00e9 un cercador d'adreces i top\u00f2nims: a mesura que l'usuari va teclejant el text a cercar, s'envien peticions al servei de geocodificaci\u00f3 directa, fins a trobar l'element desitjat i la seva ubicaci\u00f3 al mapa.</p> <p> </p> <p>Les peticions enviades utilitzen l'operaci\u00f3 autocompletar amb el par\u00e0metre text contenint el text introdu\u00eft per l'usuari. </p> <p>Un exemple d'aquestes peticions \u00e9s https://eines.icgc.cat/geocodificador/autocompletar?text=nou%203&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p>"},{"location":"visor/#geocodificacio-inversa","title":"Geocodificaci\u00f3 inversa","text":"<p>Al fer clic sobre el mapa, es fa una petici\u00f3 de geocodificaci\u00f3 inversa, obtenint l'adreca postal i el top\u00f2nim m\u00e9s propers al punt indicat en un radi de 500 metres.</p> <p> </p> <p>Les peticions enviades utilitzen l'operaci\u00f3 invers amb els par\u00e0metres lon i lat contenint el punt marcat per l'usuari. </p> <p>Un exemple d'aquestes peticions \u00e9s https://eines.icgc.cat/geocodificador/invers?lat=41.81623479875584&amp;lon=2.4224853515625004&amp;size=1&amp;boundary.circle.radius=0.5&amp;layers=topo2,address</p>"},{"location":"visor/#prioritzacio-de-resultats","title":"Prioritzaci\u00f3 de resultats","text":"<p>Si la casella Prioritzar els resultats propers al centre del mapa est\u00e0 activada, a la llista de resultats es mostren primer els resultats m\u00e9s propers al centre del mapa.</p> <p> </p> <p>El punt central del mapa s'indica als par\u00e0metres focus.point.lat i focus.point.lon. </p> <p>Un exemple de petici\u00f3 \u00e9s  https://eines.icgc.cat/geocodificador/autocompletar?text=biblioteca&amp;focus.point.lat=41.97952806717199&amp;focus.point.lon=2.8178000450134277&amp;layers=topo1%2Ctopo2%2Caddress&amp;size=5</p> <p></p>"},{"location":"visor/#tipus-delements-a-cercar","title":"Tipus d'elements a cercar","text":"<p>Els elements cercats pertanyen a una de les seg\u00fcents capes (indicades al par\u00e0metre layers):</p> <ul> <li> <p>topo1: top\u00f2nims de poblament o agrupacions de poblaci\u00f3 (nom de municipi, cap de municipi, entitat de poblaci\u00f3, disseminat, barri), mostrant en primer lloc els top\u00f2nims que s\u00f3n nom de municipi o cap de municipi. Apareixen a la llista de resultats amb el prefix (poblament).</p> </li> <li> <p>topo2: resta de top\u00f2nims. Apareixen a la llista de resultats amb el prefix (top\u00f2nim).</p> </li> <li> <p>address: portals. Apareixen a la llista de resultats amb el prefix (portal).</p> </li> </ul>"},{"location":"visor/#nombre-maxim-de-resultats","title":"Nombre m\u00e0xim de resultats","text":"<p>El par\u00e0metre size s'ha assignat a 5, per mostrar com a m\u00e0xim 5 elements de cada una de les capes.</p>"},{"location":"visor/#consulta-del-tipus-de-toponims","title":"Consulta del tipus de top\u00f2nims","text":"<p>Al situar el cursor sobre un element trobat de les capes topo1 o topo2, es mostra el tipus de top\u00f2nim (camp addendum.tipus):</p> <p></p>"},{"location":"visor/#descarrega","title":"Desc\u00e0rrega","text":"<p>Es pot descarregar de:  https://github.com/OpenICGC/leaflet-geocodericgc-plugin </p>"},{"location":"visor/#implementacio","title":"Implementaci\u00f3","text":"<p>S'ha implementat amb la llibreria Leaflet, utilitzant el plugin leaflet-geocoder-mapzen.</p> <p>S\u2019utilitza el plugin leaflet-geocoder-mapzen https://www.npmjs.com/package/leaflet-geocoder-mapzen, que s\u2019ha modificat per gestionar els par\u00e0metres size i focus, el prefix i tooltip de cada resultat (camp addendum.tipus en cas dels top\u00f2nims) i el nivell de zoom del mapa (camp addendum.zoom en cas dels top\u00f2nims)</p> <pre><code>&lt;!-- Carregar codi Leaflet del cdn --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Carregar plugin Leaflet de geocodificaci\u00f3 mapzen--&gt;\n&lt;script src=\"js/leaflet-geocoder.js\"&gt;&lt;/script&gt;\n\n// Crear el mapa\nvar map = L.map('map', {\n        center: [41.431, 1.8580],\n        zoom: 8,\n        minZoom: 2,\n        maxZoom: 18,\n        scrollWheelZoom: true,\n        zoomControl: false\n      });\n\nvar geocodingOptions = {\n        url: 'https://eines.icgc.cat/geocodificador',\n        expanded: true,\n        autocomplete: true,\n        layers: \"topo1,topo2,address\",\n        size: 5,\n        focus: false,\n        panToPoint: true\n      };\n      geoc\nL.control.geocoder(geocodingOptions).addTo(map);\n</code></pre>"},{"location":"visor/#codi-per-a-incrustar-el-visor","title":"Codi per a incrustar el visor","text":"<p>Per inserir el visor al vostre web, copieu i enganxeu el text seg\u00fcent: <pre><code>&lt;iframe width=\"100%\" height=\"500\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"https://eines.icgc.cat/geocodificador_visor/\" &gt;&lt;/iframe&gt;\n</code></pre></p>"},{"location":"visor/#funcionalitat-pwa","title":"Funcionalitat PWA","text":"<p>El visor Leaflet https://eines.icgc.cat/geocodificador_visor/ \u00e9s una aplicaci\u00f3 web progressiva (PWA) que presenta la possibilitat de ser baixada i iniciada des de la pantalla principal o el men\u00fa d'aplicacions de qualsevol dispositiu amb un navegador web.</p> <p>Per instal\u00b7lar l'aplicaci\u00f3, a Chrome:</p> <p>Windows </p> <p></p> <p>Android </p> <p></p>"}]}